{"dependencies":[{"name":"./Platform","data":{"isAsync":false}},{"name":"../Components/AppleTV/TVEventHandler","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var Platform = _$$_REQUIRE(_dependencyMap[0], \"./Platform\");\n\n  var TVEventHandler = _$$_REQUIRE(_dependencyMap[1], \"../Components/AppleTV/TVEventHandler\");\n\n  function emptyFunction() {}\n\n  var BackHandler;\n\n  if (Platform.isTV) {\n    var _tvEventHandler = new TVEventHandler();\n\n    var _backPressSubscriptions = new Set();\n\n    _tvEventHandler.enable(this, function (cmp, evt) {\n      if (evt && evt.eventType === 'menu') {\n        var invokeDefault = true;\n        var subscriptions = Array.from(_backPressSubscriptions.values()).reverse();\n\n        for (var i = 0; i < subscriptions.length; ++i) {\n          if (subscriptions[i]()) {\n            invokeDefault = false;\n            break;\n          }\n        }\n\n        if (invokeDefault) {\n          BackHandler.exitApp();\n        }\n      }\n    });\n\n    BackHandler = {\n      exitApp: emptyFunction,\n      addEventListener: function addEventListener(eventName, handler) {\n        _backPressSubscriptions.add(handler);\n\n        return {\n          remove: function remove() {\n            return BackHandler.removeEventListener(eventName, handler);\n          }\n        };\n      },\n      removeEventListener: function removeEventListener(eventName, handler) {\n        _backPressSubscriptions.delete(handler);\n      }\n    };\n  } else {\n    BackHandler = {\n      exitApp: emptyFunction,\n      addEventListener: function addEventListener(_eventName, _handler) {\n        return {\n          remove: emptyFunction\n        };\n      },\n      removeEventListener: function removeEventListener(_eventName, _handler) {}\n    };\n  }\n\n  module.exports = BackHandler;\n});","lineCount":63,"map":[[2,0,14,0],[4,0,16,0],[4,6,16,6,"Platform"],[4,14,16,14],[4,17,16,17,"require"],[4,28,16,24],[4,61,16,0],[6,0,17,0],[6,6,17,6,"TVEventHandler"],[6,20,17,20],[6,23,17,23,"require"],[6,34,17,30],[6,93,17,0],[8,0,21,0],[8,11,21,9,"emptyFunction"],[8,24,21,0],[8,27,21,31],[8,28,21,33],[10,0,65,0],[10,6,65,4,"BackHandler"],[10,17,65,0],[12,0,67,0],[12,6,67,4,"Platform"],[12,14,67,12],[12,15,67,13,"isTV"],[12,19,67,0],[12,21,67,19],[13,0,68,2],[13,8,68,8,"_tvEventHandler"],[13,23,68,23],[13,26,68,26],[13,30,68,30,"TVEventHandler"],[13,44,68,26],[13,46,68,2],[15,0,69,2],[15,8,69,8,"_backPressSubscriptions"],[15,31,69,31],[15,34,69,34],[15,38,69,38,"Set"],[15,41,69,34],[15,43,69,2],[17,0,71,2,"_tvEventHandler"],[17,4,71,2,"_tvEventHandler"],[17,19,71,17],[17,20,71,18,"enable"],[17,26,71,2],[17,27,71,25],[17,31,71,2],[17,33,71,31],[17,43,71,40,"cmp"],[17,46,71,31],[17,48,71,45,"evt"],[17,51,71,31],[17,53,71,50],[18,0,72,4],[18,10,72,8,"evt"],[18,13,72,11],[18,17,72,15,"evt"],[18,20,72,18],[18,21,72,19,"eventType"],[18,30,72,15],[18,35,72,33],[18,41,72,4],[18,43,72,41],[19,0,73,6],[19,12,73,10,"invokeDefault"],[19,25,73,23],[19,28,73,26],[19,32,73,6],[20,0,74,6],[20,12,74,12,"subscriptions"],[20,25,74,25],[20,28,74,28,"Array"],[20,33,74,33],[20,34,74,34,"from"],[20,38,74,28],[20,39,75,8,"_backPressSubscriptions"],[20,62,75,31],[20,63,75,32,"values"],[20,69,75,8],[20,71,74,28],[20,73,76,8,"reverse"],[20,80,74,28],[20,82,74,6],[22,0,78,6],[22,13,78,11],[22,17,78,15,"i"],[22,18,78,16],[22,21,78,19],[22,22,78,6],[22,24,78,22,"i"],[22,25,78,23],[22,28,78,26,"subscriptions"],[22,41,78,39],[22,42,78,40,"length"],[22,48,78,6],[22,50,78,48],[22,52,78,50,"i"],[22,53,78,6],[22,55,78,53],[23,0,79,8],[23,14,79,12,"subscriptions"],[23,27,79,25],[23,28,79,26,"i"],[23,29,79,25],[23,30,79,12],[23,32,79,8],[23,34,79,32],[24,0,80,10,"invokeDefault"],[24,12,80,10,"invokeDefault"],[24,25,80,23],[24,28,80,26],[24,33,80,10],[25,0,81,10],[26,0,82,9],[27,0,83,7],[29,0,85,6],[29,12,85,10,"invokeDefault"],[29,25,85,6],[29,27,85,25],[30,0,86,8,"BackHandler"],[30,10,86,8,"BackHandler"],[30,21,86,19],[30,22,86,20,"exitApp"],[30,29,86,8],[31,0,87,7],[32,0,88,5],[33,0,89,3],[33,5,71,2],[35,0,91,2,"BackHandler"],[35,4,91,2,"BackHandler"],[35,15,91,13],[35,18,91,16],[36,0,92,4,"exitApp"],[36,6,92,4,"exitApp"],[36,13,92,11],[36,15,92,13,"emptyFunction"],[36,28,91,16],[37,0,94,4,"addEventListener"],[37,6,94,4,"addEventListener"],[37,22,94,20],[37,24,94,22],[37,50,95,6,"eventName"],[37,59,94,22],[37,61,96,6,"handler"],[37,68,94,22],[37,70,97,28],[38,0,98,6,"_backPressSubscriptions"],[38,8,98,6,"_backPressSubscriptions"],[38,31,98,29],[38,32,98,30,"add"],[38,35,98,6],[38,36,98,34,"handler"],[38,43,98,6],[40,0,99,6],[40,15,99,13],[41,0,100,8,"remove"],[41,10,100,8,"remove"],[41,16,100,14],[41,18,100,16],[42,0,100,16],[42,19,100,22,"BackHandler"],[42,30,100,33],[42,31,100,34,"removeEventListener"],[42,50,100,22],[42,51,100,54,"eventName"],[42,60,100,22],[42,62,100,65,"handler"],[42,69,100,22],[42,70,100,16],[43,0,100,16],[44,0,99,13],[44,9,99,6],[45,0,102,5],[45,7,91,16],[46,0,104,4,"removeEventListener"],[46,6,104,4,"removeEventListener"],[46,25,104,23],[46,27,104,25],[46,56,105,6,"eventName"],[46,65,104,25],[46,67,106,6,"handler"],[46,74,104,25],[46,76,107,12],[47,0,108,6,"_backPressSubscriptions"],[47,8,108,6,"_backPressSubscriptions"],[47,31,108,29],[47,32,108,30,"delete"],[47,38,108,6],[47,39,108,37,"handler"],[47,46,108,6],[48,0,109,5],[49,0,91,16],[49,5,91,2],[50,0,111,1],[50,3,67,0],[50,9,111,7],[51,0,112,2,"BackHandler"],[51,4,112,2,"BackHandler"],[51,15,112,13],[51,18,112,16],[52,0,113,4,"exitApp"],[52,6,113,4,"exitApp"],[52,13,113,11],[52,15,113,13,"emptyFunction"],[52,28,112,16],[53,0,114,4,"addEventListener"],[53,6,114,4,"addEventListener"],[53,22,112,16],[53,50,114,21,"_eventName"],[53,60,112,16],[53,62,114,53,"_handler"],[53,70,112,16],[53,72,114,73],[54,0,115,6],[54,15,115,13],[55,0,116,8,"remove"],[55,10,116,8,"remove"],[55,16,116,14],[55,18,116,16,"emptyFunction"],[56,0,115,13],[56,9,115,6],[57,0,118,5],[57,7,112,16],[58,0,119,4,"removeEventListener"],[58,6,119,4,"removeEventListener"],[58,25,112,16],[58,56,119,24,"_eventName"],[58,66,112,16],[58,68,119,56,"_handler"],[58,76,112,16],[58,78,119,76],[58,79,119,78],[59,0,112,16],[59,5,112,2],[60,0,121,1],[62,0,123,0,"module"],[62,2,123,0,"module"],[62,8,123,6],[62,9,123,7,"exports"],[62,16,123,0],[62,19,123,17,"BackHandler"],[62,30,123,0]],"functionMap":{"names":["<global>","emptyFunction","_tvEventHandler.enable$argument_1","addEventListener","remove","removeEventListener"],"mappings":"AAA;ACoB,iCD;+BEkD;GFkB;sBGK;gBCM,yDD;KHE;yBKE;KLK;IGK;KHI;IKC,0EL"}},"type":"js/module"}]}