{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/extends","data":{"isAsync":false}},{"name":"./NativeSettingsManager","data":{"isAsync":false}},{"name":"../EventEmitter/RCTDeviceEventEmitter","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _extends2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/extends\"));\n\n  var _NativeSettingsManager = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./NativeSettingsManager\"));\n\n  var RCTDeviceEventEmitter = _$$_REQUIRE(_dependencyMap[3], \"../EventEmitter/RCTDeviceEventEmitter\");\n\n  var invariant = _$$_REQUIRE(_dependencyMap[4], \"invariant\");\n\n  var subscriptions = [];\n  var Settings = {\n    _settings: _NativeSettingsManager.default && _NativeSettingsManager.default.getConstants().settings,\n    get: function get(key) {\n      return this._settings[key];\n    },\n    set: function set(settings) {\n      this._settings = (0, _extends2.default)(this._settings, settings);\n\n      _NativeSettingsManager.default.setValues(settings);\n    },\n    watchKeys: function watchKeys(keys, callback) {\n      if (typeof keys === 'string') {\n        keys = [keys];\n      }\n\n      invariant(Array.isArray(keys), 'keys should be a string or array of strings');\n      var sid = subscriptions.length;\n      subscriptions.push({\n        keys: keys,\n        callback: callback\n      });\n      return sid;\n    },\n    clearWatch: function clearWatch(watchId) {\n      if (watchId < subscriptions.length) {\n        subscriptions[watchId] = {\n          keys: [],\n          callback: null\n        };\n      }\n    },\n    _sendObservations: function _sendObservations(body) {\n      var _this = this;\n\n      Object.keys(body).forEach(function (key) {\n        var newValue = body[key];\n        var didChange = _this._settings[key] !== newValue;\n        _this._settings[key] = newValue;\n\n        if (didChange) {\n          subscriptions.forEach(function (sub) {\n            if (sub.keys.indexOf(key) !== -1 && sub.callback) {\n              sub.callback();\n            }\n          });\n        }\n      });\n    }\n  };\n  RCTDeviceEventEmitter.addListener('settingsUpdated', Settings._sendObservations.bind(Settings));\n  module.exports = Settings;\n});","lineCount":66,"map":[[2,0,11,0],[8,0,17,0],[10,0,13,0],[10,6,13,6,"RCTDeviceEventEmitter"],[10,27,13,27],[10,30,13,30,"require"],[10,41,13,37],[10,101,13,0],[12,0,15,0],[12,6,15,6,"invariant"],[12,15,15,15],[12,18,15,18,"require"],[12,29,15,25],[12,61,15,0],[14,0,19,0],[14,6,19,6,"subscriptions"],[14,19,19,70],[14,22,19,73],[14,24,19,0],[15,0,21,0],[15,6,21,6,"Settings"],[15,14,21,14],[15,17,21,17],[16,0,22,2,"_settings"],[16,4,22,2,"_settings"],[16,13,22,11],[16,15,22,14,"NativeSettingsManager"],[16,49,23,4,"NativeSettingsManager"],[16,80,23,26,"getConstants"],[16,92,23,4],[16,95,23,41,"settings"],[16,103,21,17],[17,0,25,2,"get"],[17,4,25,2,"get"],[17,7,21,17],[17,22,25,6,"key"],[17,25,21,17],[17,27,25,26],[18,0,26,4],[18,13,26,11],[18,18,26,16,"_settings"],[18,27,26,11],[18,28,26,26,"key"],[18,31,26,11],[18,32,26,4],[19,0,27,3],[19,5,21,17],[20,0,29,2,"set"],[20,4,29,2,"set"],[20,7,21,17],[20,22,29,6,"settings"],[20,30,21,17],[20,32,29,24],[21,0,30,4],[21,11,30,9,"_settings"],[21,20,30,4],[21,23,30,21],[21,46,30,35],[21,51,30,40,"_settings"],[21,60,30,21],[21,62,30,51,"settings"],[21,70,30,21],[21,71,30,4],[23,0,31,4,"NativeSettingsManager"],[23,37,31,26,"setValues"],[23,46,31,4],[23,47,31,36,"settings"],[23,55,31,4],[24,0,32,3],[24,5,21,17],[25,0,34,2,"watchKeys"],[25,4,34,2,"watchKeys"],[25,13,21,17],[25,34,34,12,"keys"],[25,38,21,17],[25,40,34,42,"callback"],[25,48,21,17],[25,50,34,70],[26,0,35,4],[26,10,35,8],[26,17,35,15,"keys"],[26,21,35,8],[26,26,35,24],[26,34,35,4],[26,36,35,34],[27,0,36,6,"keys"],[27,8,36,6,"keys"],[27,12,36,10],[27,15,36,13],[27,16,36,14,"keys"],[27,20,36,13],[27,21,36,6],[28,0,37,5],[30,0,39,4,"invariant"],[30,6,39,4,"invariant"],[30,15,39,13],[30,16,40,6,"Array"],[30,21,40,11],[30,22,40,12,"isArray"],[30,29,40,6],[30,30,40,20,"keys"],[30,34,40,6],[30,35,39,13],[30,37,41,6],[30,82,39,13],[30,83,39,4],[31,0,44,4],[31,10,44,10,"sid"],[31,13,44,13],[31,16,44,16,"subscriptions"],[31,29,44,29],[31,30,44,30,"length"],[31,36,44,4],[32,0,45,4,"subscriptions"],[32,6,45,4,"subscriptions"],[32,19,45,17],[32,20,45,18,"push"],[32,24,45,4],[32,25,45,23],[33,0,45,24,"keys"],[33,8,45,24,"keys"],[33,12,45,28],[33,14,45,30,"keys"],[33,18,45,23],[34,0,45,36,"callback"],[34,8,45,36,"callback"],[34,16,45,44],[34,18,45,46,"callback"],[35,0,45,23],[35,7,45,4],[36,0,46,4],[36,13,46,11,"sid"],[36,16,46,4],[37,0,47,3],[37,5,21,17],[38,0,49,2,"clearWatch"],[38,4,49,2,"clearWatch"],[38,14,21,17],[38,36,49,13,"watchId"],[38,43,21,17],[38,45,49,30],[39,0,50,4],[39,10,50,8,"watchId"],[39,17,50,15],[39,20,50,18,"subscriptions"],[39,33,50,31],[39,34,50,32,"length"],[39,40,50,4],[39,42,50,40],[40,0,51,6,"subscriptions"],[40,8,51,6,"subscriptions"],[40,21,51,19],[40,22,51,20,"watchId"],[40,29,51,19],[40,30,51,6],[40,33,51,31],[41,0,51,32,"keys"],[41,10,51,32,"keys"],[41,14,51,36],[41,16,51,38],[41,18,51,31],[42,0,51,42,"callback"],[42,10,51,42,"callback"],[42,18,51,50],[42,20,51,52],[43,0,51,31],[43,9,51,6],[44,0,52,5],[45,0,53,3],[45,5,21,17],[46,0,55,2,"_sendObservations"],[46,4,55,2,"_sendObservations"],[46,21,21,17],[46,50,55,20,"body"],[46,54,21,17],[46,56,55,34],[47,0,55,34],[49,0,56,4,"Object"],[49,6,56,4,"Object"],[49,12,56,10],[49,13,56,11,"keys"],[49,17,56,4],[49,18,56,16,"body"],[49,22,56,4],[49,24,56,22,"forEach"],[49,31,56,4],[49,32,56,30],[49,42,56,30,"key"],[49,45,56,33],[49,47,56,37],[50,0,57,6],[50,12,57,12,"newValue"],[50,20,57,20],[50,23,57,23,"body"],[50,27,57,27],[50,28,57,28,"key"],[50,31,57,27],[50,32,57,6],[51,0,58,6],[51,12,58,12,"didChange"],[51,21,58,21],[51,24,58,24],[51,29,58,28],[51,30,58,29,"_settings"],[51,39,58,24],[51,40,58,39,"key"],[51,43,58,24],[51,49,58,48,"newValue"],[51,57,58,6],[52,0,59,6],[52,8,59,6],[52,13,59,10],[52,14,59,11,"_settings"],[52,23,59,6],[52,24,59,21,"key"],[52,27,59,6],[52,31,59,28,"newValue"],[52,39,59,6],[54,0,61,6],[54,12,61,10,"didChange"],[54,21,61,6],[54,23,61,21],[55,0,62,8,"subscriptions"],[55,10,62,8,"subscriptions"],[55,23,62,21],[55,24,62,22,"forEach"],[55,31,62,8],[55,32,62,30],[55,42,62,30,"sub"],[55,45,62,33],[55,47,62,37],[56,0,63,10],[56,16,63,14,"sub"],[56,19,63,17],[56,20,63,18,"keys"],[56,24,63,14],[56,25,63,23,"indexOf"],[56,32,63,14],[56,33,63,31,"key"],[56,36,63,14],[56,42,63,40],[56,43,63,41],[56,44,63,14],[56,48,63,46,"sub"],[56,51,63,49],[56,52,63,50,"callback"],[56,60,63,10],[56,62,63,60],[57,0,64,12,"sub"],[57,14,64,12,"sub"],[57,17,64,15],[57,18,64,16,"callback"],[57,26,64,12],[58,0,65,11],[59,0,66,9],[59,11,62,8],[60,0,67,7],[61,0,68,5],[61,7,56,4],[62,0,69,3],[63,0,21,17],[63,3,21,0],[64,0,72,0,"RCTDeviceEventEmitter"],[64,2,72,0,"RCTDeviceEventEmitter"],[64,23,72,21],[64,24,72,22,"addListener"],[64,35,72,0],[64,36,73,2],[64,53,72,0],[64,55,74,2,"Settings"],[64,63,74,10],[64,64,74,11,"_sendObservations"],[64,81,74,2],[64,82,74,29,"bind"],[64,86,74,2],[64,87,74,34,"Settings"],[64,95,74,2],[64,96,72,0],[65,0,77,0,"module"],[65,2,77,0,"module"],[65,8,77,6],[65,9,77,7,"exports"],[65,16,77,0],[65,19,77,17,"Settings"],[65,27,77,0]],"functionMap":{"names":["<global>","get","set","watchKeys","clearWatch","_sendObservations","Object.keys.forEach$argument_0","subscriptions.forEach$argument_0"],"mappings":"AAA;ECwB;GDE;EEE;GFG;EGE;GHa;EIE;GJI;EKE;8BCC;8BCM;SDI;KDE;GLC"}},"type":"js/module"}]}